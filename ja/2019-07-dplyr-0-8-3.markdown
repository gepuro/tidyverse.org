---
title: dplyr 0.8.3
slug: dplyr-0-8-3
author: ロマン・フランソワ
description: dplyr 0.8.3は現在CRANにあります。
date: '2019-07-04'
categories:
- パッケージ
tags:
- Dplyr
photo:
  url: https://unsplash.com/photos/OxK32aLJXWU
  author: クシシュトフ・ニーウォルニー
---

## 前書き

We're pleased (and a little embarrassed) to announce the release of dplyr 0.8.3 on CRAN 😬 !

これは、コミュニティがTwitterで報告したように、パフォーマンスの大幅な低下を修正するための[0.8.2の](https://www.tidyverse.org/articles/2019/06/dplyr-0-8-2/) 1週間後の緊急リリースです。

## ノストラカルパ

This [commit](https://github.com/tidyverse/dplyr/commit/036de90fbf9e3eef72c015982a5d1294d2157a2c#r34165423) was pushed to
[dplyr](https://dplyr.tidyverse.org) on May 10, as a seemingly very harmless update to better support list
columns being used in [summarise()](https://dplyr.tidyverse.org/reference/summarise.html).

In addition to the changes that were necessary to fix the problem reported in [issue 4349](https://github.com/tidyverse/dplyr/issues/4349),
the commit removed two lines of code in a very central piece of [dplyr](https://dplyr.tidyverse.org) infrastructure,
namely its data mask layout.

[dplyr 0.8.0の](https://www.tidyverse.org/articles/2019/02/dplyr-0-8-0/)一部として、データマスクレイアウトの内部構造が劇的に変わり、2つの環境からなるデータマスクが使用されています。最初の環境には、処理するデータフレームの各列のアクティブなバインディングのセットが含まれます。最初のグループで変数が式で初めて使用されると、アクティブなバインディングが解決され、その関連スライスが取得されますカラム。これは多少費用のかかる操作であるため、後続のグループはデータマスクの2番目の環境を使用して、必要であることがわかっている列のスライスを積極的に実体化します。

The two lines that were removed by mistake are central to this system, without them each group would
invoke the costly active binding. Even worse, the list of indices of columns to be rematerialised,
as maintained by a vector of integers, would grow each time, so on the second group the column slice would
be materialized twice to be then forgotten, on the third group three times ...

古典的な恥ずかしい二次性能回帰。

## ありがとう

Thanks to the community for quickly alerting us of the situation, the 🐌 had been
in the code base for almost two months but we had not noticed because our continuous
integration protects us from regressions in functionality, but not regression in performance.

将来的にはその方向で調査する可能性があります。このリリースのすべての貢献者に感謝します。

[@ajkroeg](https://github.com/ajkroeg), [@bschneidr](https://github.com/bschneidr), [@DavisVaughan](https://github.com/DavisVaughan), [@dhicks](https://github.com/dhicks), [@gvfarns](https://github.com/gvfarns), [@IndrajeetPatil](https://github.com/IndrajeetPatil), [@krlmlr](https://github.com/krlmlr), [@romainfrancois](https://github.com/romainfrancois), and [@shane-kercheval](https://github.com/shane-kercheval)
